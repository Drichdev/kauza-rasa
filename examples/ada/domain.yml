version: "3.1"
intents:
  - greet
  - create_business
  - specify_nationality
  - choose_business_structure
  - provide_personal_info
  - confirm_info
  - chose_business_form
  - validate_info
  - anything_else
  - feedback
  - confirm_done
  - modify_info
  - finish_interaction

entities:
  - nationality
  - business_structure
  - name
  - email
  - phone
  - business_form
  - company_name
  # - business_purpose
  - number

slots:
  nationality:
    type: text
    mappings:
    - type: from_entity
      entity: nationality
  business_structure:
    type: text
    mappings:
    - type: from_entity
      entity: business_structure
  business_form:
    type: text
    mappings:
    - type: from_entity
      entity: business_form
  name:
    type: text
    mappings:
    - type: from_entity
      entity: name
  email:
    type: text
    mappings:
    - type: from_entity
      entity: email
  phone:
    type: text
    mappings:
    - type: from_entity
      entity: phone
    - type: from_entity
      entity: number
  company_name:
    type: text
    mappings:
    - type: from_entity
      entity: name
  # business_purpose:
  #   type: text
  #   mappings:
  #   - type: from_entity
  #     entity: business_purpose
  feedback:
    type: float
    mappings:
    - type: from_entity
      entity: number

responses:
  utter_greet:
    - text: "Bonjour je suis ADA ! Comment puis-je vous aider aujourd'hui ?"
  utter_create_inquire_buttons:
    - text: "CRÉER UNE ENTREPRISE | S'INFORMER"
      buttons:
        - title: "Créer une entreprise"
          payload: "/create_business"
        - title: "S'informer"
          payload: "/inquire"
  utter_ask_nationality:
    - text: "Quelle est votre nationalité ?"
      buttons:
        - title: "Togolais"
          payload: '/specify_nationality{{"nationality":"togolais"}}'
        - title: "Étranger"
          payload: '/specify_nationality{{"nationality":"etranger"}}'
  utter_ask_name:
    - text: "Quel est votre nom ?"
  utter_ask_business_structure:
    - text: "Parfait, merci pour cette information. Maintenant, permettez-moi de vous présenter les deux options pour la structure de votre entreprise :
            Une entreprise individuelle est une entreprise exploitée par une seule personne. Elle offre une simplicité administrative, mais le propriétaire est responsable personnellement des dettes et des obligations de l'entreprise.
            Une société est une entité distincte de ses propriétaires. Les types de sociétés les plus courants sont la SARL (Société à Responsabilité Limitée) et la SAS (Société par Actions Simplifiée). Elles offrent une responsabilité limitée pour les propriétaires, mais peuvent nécessiter plus de formalités administratives.

            Maintenant, pouvez-vous me dire quelle option vous intéresse ?"
      buttons:
        - title: "Entreprise individuelle"
          payload: '/choose_business_structure{{"business_structure":"entreprise"}}'
        - title: "Société"
          payload: '/choose_business_structure{{"business_structure":"société"}}'

  utter_ask_business_form:
    - text: Quelle structure juridique envisagez-vous d'adopter pour votre société ?"
      buttons:
        - title: "SARL"
          payload: '/choose_business_form{{"business_form":"SARL"}}'
        - title: "SAS"
          payload: '/choose_business_form{{"business_form":"SAS"}}'
        - title: "Autre"
          payload: '/choose_business_form{{"business_form":"Autre"}}'
  utter_ask_company_name:
    - text: "Quel est le nom de votre entreprise ?"
  utter_ask_phone:
    - text: "Quel est votre numéro de téléphone ?"
  utter_ask_email:
    - text: "Pourriez-vous me fournir votre adresse e-mail, s'il vous plaît ?"
  # utter_ask_business_purpose:
  #   - text: "Parfait, votre nom de société est disponible. J'ai enregistré votre choix. Et pour l'objet social de votre société ?"
  utter_confirm_info:
    - text: "Je vais lancer la creation de votre entreprise avec les informations suivantes:\n
             - Type d'entreprise: {business_form}\n
             - Nom de l'entreprise: {company_name}\n
             - prix: Tarif pour les {nationality}\n
             - Nom: {name}\n
             - Addresse E-mail: {email}\n
             - Numéro de télephone: {phone}\n"
      buttons:
        - title: "Valider"
          payload: "/validate_info"
        - title: "Modifier"
          payload: "/modify_info"
  utter_thank_you:
    - text: "Merci pour votre confirmation. Est-ce qu'il y a autre chose avec quoi je peux vous aider ?"
      buttons:
        - title: "Non, c'est tout"
          payload: "/finish_interaction"
        - title: "Contacter un agent"
          payload: "/finish_interaction"
        - title: "Créer une autre entreprise"
          payload: "/create_business"
  utter_ask_feedback:
    - text: "Avant de terminer, pourriez-vous nous donner votre avis sur l'assistance que vous avez reçue ? Nous apprécions votre retour ! (Note de 1 à 5)"
  

forms:
  create_business_form:
    required_slots:
      - nationality
      - business_structure
      - name
      - email
      - phone
      - business_form
      - company_name
      # - business_purpose

session_config:
  session_expiration_time: 10  # value in minutes
  carry_over_slots_to_new_session: false
